<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<title>Hai vinto la caccia al tesoro!</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  body {
    background: #fffcef;
    font-family: 'Playfair Display', serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    overflow: hidden;
    position: relative;
  }
  h1 {
    font-size: 3.5rem;
    color: #0C4B40;
    text-align: center;
    z-index: 10;
    position: relative;
    text-shadow: 0 0 10px #C8AA6A;
  }
  canvas {
    position: fixed;
    top: 0; left: 0;
    pointer-events: none;
    z-index: 5;
  }
</style>
</head>
<body>

<h1>Hai vinto la caccia al tesoro!</h1>
<canvas id="confetti"></canvas>

<script>
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  let W = window.innerWidth;
  let H = window.innerHeight;
  canvas.width = W;
  canvas.height = H;

  const confettiCount = 150;
  const confetti = [];

  class Confetto {
    constructor() {
      this.x = Math.random() * W;
      this.y = Math.random() * H - H;
      this.size = Math.random() * 7 + 5;
      this.speed = Math.random() * 3 + 2;
      this.angle = Math.random() * 360;
      this.rotateSpeed = Math.random() * 10 - 5;
      this.color = `hsl(${Math.random()*360}, 80%, 60%)`;
    }
    update() {
      this.y += this.speed;
      this.angle += this.rotateSpeed;
      if (this.y > H) {
        this.y = -this.size;
        this.x = Math.random() * W;
      }
    }
    draw() {
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.rotate(this.angle * Math.PI / 180);
      ctx.fillStyle = this.color;
      ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size);
      ctx.restore();
    }
  }

  for(let i=0; i<confettiCount; i++){
    confetti.push(new Confetto());
  }

  function animate() {
    ctx.clearRect(0, 0, W, H);
    confetti.forEach(c => {
      c.update();
      c.draw();
    });
    requestAnimationFrame(animate);
  }

  animate();

  window.addEventListener('resize', () => {
    W = window.innerWidth;
    H = window.innerHeight;
    canvas.width = W;
    canvas.height = H;
  });
</script>

</body>
</html>
